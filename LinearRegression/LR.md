# Linear Regression - 线性回归
在这里选择线性回归，是因为该方法是一个基础且经典的机器学习的方法。且一般来说数据量相对较小，无需大量的计算性能和空间，契合了当下的框架的情况。希望该方法可以在框架下使用`tensorflow2`去实现
## 基础实现
内容的基础实现已经可以在tensorflow2下实现，即在不使用spu的情况下可以初步拟合一些数据集（内容在LR_spu的notebook文件中有展示）。在spu下的实现本以为会比较容易，但还是存在问题。在一般情况下使用"model.fit"方法可以实现模型的迭代
```python
model.fit(X,y,epochs=5000)
# 本质上是一个函数，那理论上应该可以被spu直接调用
# 类似于
# spu(model.fit)(X,y,epochs=5000)
# 但运行并不成功
```
运行不成功的原因是柯里化函数的参数表达，`"epochs=5000"`这一表达是非法的，为了解决该问题，使用另一个函数，在该函数内部预先定义epoch的数值
```python
def runloop(x,y):
    eps = 5000
    model.fit(x,y,epochs = eps)
```
修改完这一函数，该线性回归可以在我粗略设计的SPU上运行，但由于设计原因，它本身似乎并不安全。而在框架集成的SPU上运行仍然会出现问题：预先设定的epochs数目不会生效，循环只会执行一轮。而若是在notebook中对该代码的部分多次运行，则会出现无法运行的结果（报错内容为“不止一个参数未成功计算”）。若是重新启动所有内容，甚至会出现内核错误。总而言之，现阶段的在SPU中使用tensorflow的框架去运行还存在一些问题，官方也更倾向于选择Jax去实现，可能需要尝试一下使用Jax去运行